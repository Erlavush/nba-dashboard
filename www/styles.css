/* --- START FILE: www/styles.css (Full, Complete, and Updated - Reflecting KPI Box Removal) --- */

/* ==========================================================================
   Base & Theme Overrides (Darkly Consistency)
   ========================================================================== */
body {
  background-color: #000000 !important; /* Overall page background */
  color: #f0f0f0 !important;            /* Default text color */
  font-family: "Fira Code", monospace, sans-serif !important; /* Ensure fallback */
  line-height: 1.6;
}

h1, h2, h3, h4, h5, h6 {
  font-family: "Fira Code", monospace, sans-serif !important;
  color: #ffffff; /* White headings */
  margin-top: 1.5rem;
  margin-bottom: 1rem;
}

h3 { font-size: 1.75rem; }
h4 { font-size: 1.4rem; margin-top: 1rem; margin-bottom: 0.75rem;}
h5 { font-size: 1.15rem; margin-top: 0.75rem; margin-bottom: 0.5rem;}


p {
  color: #e0e0e0; /* Slightly softer white for paragraphs */
  margin-bottom: 1rem;
}

a {
  color: #1d428a; /* NBA Blue for links */
  text-decoration: none;
  transition: color 0.2s ease-in-out;
}
a:hover {
  color: #4a78c4; /* Lighter blue for hover */
  text-decoration: underline;
}

/* Ensure Shiny UI elements also use Fira Code if not inherited */
.form-control, .selectize-input, label, button, .btn,
.dataTables_wrapper, .stat-item, .nav-pills .nav-link {
  font-family: "Fira Code", monospace, sans-serif !important;
}
.selectize-dropdown {
  font-family: "Fira Code", monospace, sans-serif !important;
  background-color: #222222; /* Darker dropdown background */
  border: 1px solid #444444;
}
.selectize-dropdown-content .option {
  color: #f0f0f0;
}
.selectize-dropdown-content .active {
  background-color: #1d428a !important; /* Primary blue for active dropdown item */
  color: white !important;
}
.selectize-input, .form-control {
  background-color: #111111 !important;
  color: #f0f0f0 !important;
  border: 1px solid #444444 !important;
  transition: border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
}
.form-control:focus, .selectize-input.focus {
  border-color: #1d428a !important;
  box-shadow: 0 0 0 0.2rem rgba(29, 66, 138, 0.25) !important;
}
label {
  color: #f0f0f0 !important;
  font-weight: bold;
  margin-bottom: 0.3rem;
}

/* Buttons */
.btn {
  transition: all 0.2s ease-in-out;
}
.btn-primary {
  background-color: #1d428a !important;
  border-color: #1d428a !important;
  color: #ffffff !important;
}
.btn-primary:hover, .btn-primary:focus {
  background-color: #15336b !important; /* Darker shade for hover/focus */
  border-color: #15336b !important;
  transform: translateY(-1px);
  box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}

/* Horizontal Rule */
hr {
  border-top: 1px solid #444444 !important;
  margin-top: 1.5rem;
  margin-bottom: 1.5rem;
}

/* Validation/Error Message Styling */
.validation-error-message {
  color: #FF6B6B !important; /* A bright red for errors */
  font-weight: bold !important;
  background-color: #2c1d1d !important; /* Dark red background tint */
  padding: 12px 15px;
  border: 1px solid #FF6B6B;
  border-radius: 5px;
  margin-top: 15px;
  margin-bottom: 15px;
  text-align: center;
}

/* Tab Styling (Pills & Tabs) */
.nav-pills .nav-link, .nav-tabs .nav-link {
  color: #cccccc;
  background-color: #2a2a2a;
  margin-right: 5px;
  margin-bottom: 5px;
  border: 1px solid #444;
  font-weight: bold;
  transition: all 0.2s ease-in-out;
  border-radius: 0.25rem;
}
.nav-pills .nav-link.active, .nav-pills .show > .nav-link,
.nav-tabs .nav-link.active, .nav-tabs .show > .nav-link {
  color: #ffffff;
  background-color: #1d428a; /* NBA Blue for active pill/tab */
  border-color: #1d428a;
}
.nav-pills .nav-link:hover:not(.active),
.nav-tabs .nav-link:hover:not(.active) {
  background-color: #383838;
  border-color: #555;
  color: #ffffff;
}

/* Well Panel for input grouping */
.well {
  background-color: #1e1e1e !important;
  border: 1px solid #333333 !important;
  border-radius: 6px;
  padding: 20px;
  margin-bottom: 20px;
  box-shadow: 0 1px 3px rgba(0,0,0,0.2);
}

/* Generic Dashboard Card Style */
.dashboard-card {
  background-color: #1e1e1e;
  border: 1px solid #333333;
  border-radius: 6px;
  padding: 20px;
  margin-bottom: 20px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.3);
}
.dashboard-card-header {
  font-size: 1.2em;
  font-weight: bold;
  color: #ffffff;
  border-bottom: 1px solid #444;
  padding-bottom: 10px;
  margin-bottom: 15px;
  margin-top: 0;
}

/* Consistent Scrollbar Styling */
/* For Webkit browsers (Chrome, Safari, newer Edge) */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}
::-webkit-scrollbar-track {
  background: #1a1a1a;
  border-radius: 5px;
}
::-webkit-scrollbar-thumb {
  background-color: #444444;
  border-radius: 5px;
  border: 2px solid #1a1a1a;
}
::-webkit-scrollbar-thumb:hover {
  background-color: #555555;
}
/* For Firefox */
* {
  scrollbar-width: thin;
  scrollbar-color: #444444 #1a1a1a;
}

/* ==========================================================================
   Navbar Styling
   ========================================================================== */
body div.container-fluid > nav.navbar,
nav.navbar.navbar-static-top,
nav.navbar {
  background-color: #1d428a !important; /* NBA Blue */
  border-bottom: 2px solid #0d2a5a !important; /* Darker accent */
  padding-top: 0.3rem !important;
  padding-bottom: 0.3rem !important;
}
nav.navbar .container-fluid {
  background-color: transparent !important;
}
.navbar-brand {
  color: #ffffff !important;
  font-weight: bold;
  font-size: 1.4rem;
  padding-top: 0.5rem !important;
  padding-bottom: 0.5rem !important;
}
.navbar-brand:hover {
  color: #e0e0e0 !important;
}
.navbar-nav .nav-link {
  color: rgba(255, 255, 255, 0.85) !important;
  border-bottom: 3px solid transparent !important;
  padding-top: 0.8rem !important;
  padding-bottom: 0.8rem !important;
  margin-left: 8px;
  margin-right: 8px;
  font-weight: bold;
  transition: background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease;
}
.navbar-nav .nav-link:not(.active):hover {
  color: #ffffff !important;
  background-color: rgba(0, 0, 0, 0.15) !important;
  border-bottom-color: rgba(255, 255, 255, 0.6) !important;
}
.navbar-nav .nav-link.active,
.navbar-nav .show > .nav-link {
  color: #ffffff !important;
  background-color: rgba(0, 0, 0, 0.25) !important;
  border-bottom-color: #ffffff !important;
}
.navbar-toggler {
  border-color: rgba(255, 255, 255, 0.3) !important;
}
.navbar-toggler-icon {
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28255, 255, 255, 0.95%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e") !important;
}

/* ==========================================================================
   Module-Specific Styles
   ========================================================================== */

/* --- mod_welcome Styles --- */
.news-scroll-container { display: flex; flex-wrap: nowrap; overflow-x: auto; overflow-y: hidden; padding: 15px 10px; margin-bottom: 20px; background-color: #181818; border: 1px solid #333; border-radius: 6px; min-height: 200px; align-items: stretch; gap: 15px; -webkit-overflow-scrolling: touch; }
.news-card { display: flex; flex-direction: column; flex: 0 0 240px; background-color: #2b2b2b; border-radius: 6px; overflow: hidden; text-decoration: none; color: #f0f0f0; transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out; border: 1px solid #444; }
.news-card:hover { transform: translateY(-4px) scale(1.02); box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4); color: #ffffff; }
.news-image { width: 100% !important; height: 130px !important; object-fit: cover !important; display: block !important; background-color: #444; }
.news-headline { padding: 12px; font-size: 0.9em; line-height: 1.4; flex-grow: 1; display: flex; flex-direction: column; justify-content: space-between; }
.news-scroll-container .loading-msg, .news-scroll-container .error-msg, .news-scroll-container .no-news-msg { color: #cccccc; text-align: center; padding: 20px; font-style: italic; width: 100%; align-self: center; }
.news-scroll-container .error-msg { color: #FF6B6B; font-weight: bold; }
.date-nav-container { display: flex; justify-content: space-between; align-items: center; padding: 8px 0; margin-bottom: 10px; border-bottom: 1px solid #333; }
.date-nav-btn { background-color: #2a2a2a !important; border: 1px solid #555 !important; color: #cccccc !important; padding: 6px 12px !important; font-size: 1.1em !important; transition: all 0.2s ease-in-out; }
.date-nav-btn:hover { background-color: #383838 !important; border-color: #777 !important; color: #ffffff !important; }
.date-display-wrapper h5 { color: #ffffff !important; font-weight: bold; margin: 0; font-size: 1.15em; }
.sb-game-card { background-color: #222222; border: 1px solid #444; border-radius: 6px; padding: 12px 15px; margin-bottom: 12px; color: #e0e0e0; transition: all 0.2s ease-in-out; }
.sb-game-card:hover { border-color: #1d428a; box-shadow: 0 4px 12px rgba(0,0,0,0.4); transform: translateY(-2px); }
.sb-top-bar { display: flex; justify-content: space-between; font-size: 0.85em; color: #b0b0b0; margin-bottom: 10px; padding-bottom: 6px; border-bottom: 1px solid #383838; }
.sb-game-status { font-weight: bold; color: #1d428a; }
.sb-main-content { display: flex; align-items: center; justify-content: space-between; }
.sb-team { display: flex; align-items: center; width: 42%; gap: 10px; }
.sb-away-team { justify-content: flex-start; text-align: left; }
.sb-home-team { justify-content: flex-end; text-align: right; }
.sb-team-logo { height: 40px; width: 40px; object-fit: contain; flex-shrink: 0; }
.sb-team-details { display: flex; flex-direction: column; flex-grow: 1; overflow: hidden; }
.sb-away-team .sb-team-details { align-items: flex-start; }
.sb-home-team .sb-team-details { align-items: flex-end; }
.sb-team-name { font-weight: bold; font-size: 0.95em; color: #ffffff; line-height: 1.2; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.sb-team-record { font-size: 0.75em; color: #999999; }
.sb-score-area { display: flex; align-items: center; justify-content: center; flex-shrink: 0; text-align: center; width: 16%; }
.sb-score { font-size: 1.7em; font-weight: bold; color: #ffffff; margin: 0 5px; }
.sb-score-separator { font-size: 1.4em; color: #aaaaaa; margin: 0 3px; }
.sb-team.winner .sb-score { color: #66BB6A; }
.sb-team.loser .sb-score { color: #EF5350; }
.standings-conference { margin-bottom: 25px; }
.standings-header { color: #ffffff; font-weight: bold; margin-bottom: 12px; text-align: center; border-bottom: 1px solid #444; padding-bottom: 8px; font-size: 1.2em; }
.standings-table { width: 100%; border-collapse: collapse; font-size: 0.85em; }
.standings-table th { background-color: #2a2a2a; color: #cccccc; padding: 8px 10px; text-align: left; border-bottom: 2px solid #444; white-space: nowrap; }
.standings-table td { padding: 6px 10px; border-bottom: 1px solid #333; white-space: nowrap; }
.standings-table tbody tr:nth-child(even) { background-color: #1f1f1f; }
.standings-table tbody tr:hover { background-color: #333333; }
.standings-table th:first-child, .standings-table td:first-child { text-align: center; width: 40px; }
.standings-table th:nth-child(2), .standings-table td:nth-child(2) { min-width: 150px; }
.standings-table th:not(:nth-child(1)):not(:nth-child(2)), .standings-table td:not(:nth-child(1)):not(:nth-child(2)) { text-align: center; }
.leaders-header { color: #ffffff; font-size: 1.1em; margin-top: 20px; margin-bottom: 10px; border-bottom: 1px solid #444; padding-bottom: 5px; }
.leader-list { list-style: none; padding: 0; margin: 0; }
.leader-item { display: flex; align-items: center; padding: 8px 0; border-bottom: 1px solid #333; gap: 10px; }
.leader-item:last-child { border-bottom: none; }
.leader-rank { color: #aaaaaa; font-size: 0.9em; min-width: 25px; text-align: right; font-weight: bold; }
.leader-headshot { height: 35px; width: 35px; border-radius: 50%; object-fit: cover; background-color: #333; flex-shrink: 0; border: 1px solid #555; }
.leader-details { display: flex; flex-direction: column; flex-grow: 1; line-height: 1.3; overflow: hidden; }
.leader-name { color: #ffffff; font-weight: bold; font-size: 0.95em; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.leader-team { color: #aaaaaa; font-size: 0.8em; }
.leader-stat { color: #1d428a; font-weight: bold; font-size: 1.1em; min-width: 40px; text-align: right; flex-shrink: 0; }
.bracket-container-flex { display: flex; justify-content: flex-start; max-width: 100%; margin: 20px auto; overflow-x: auto; padding-bottom: 20px; gap: 15px; background-color: #101010; border: 1px solid #333; border-radius: 8px; padding: 15px; }
.round-column { display: flex; flex-direction: column; width: 210px; flex-shrink: 0; }
.finals-column { width: 240px; display: flex; flex-direction: column; justify-content: center; align-items: center; flex-shrink: 0; }
.finals-logo-area { text-align: center; margin-bottom: 15px; }
.finals-logo-area img { width: 100px; height: auto; }
.round-header { text-align: center; font-weight: bold; margin-bottom: 20px; padding: 10px 5px; font-size: 0.9em; color: #ffffff; border-radius: 4px; text-transform: uppercase; line-height: 1.3; }
.round-column.west .round-header { background-color: #00529B; border-bottom: 2px solid #003C70; }
.round-column.east .round-header { background-color: #AE1C28; border-bottom: 2px solid #8C161F; }
.finals-column .round-header { background-color: #1d428a; border-bottom: 2px solid #0d2a5a; }
.matchup { display: flex; flex-direction: column; background-color: #282828; border: 1px solid #4a4a4a; border-radius: 6px; padding: 10px; margin-bottom: 25px; box-shadow: 0 2px 4px rgba(0,0,0,0.3); transition: all 0.2s ease-in-out; }
.matchup:hover { border-color: #1d428a; transform: scale(1.01); }
.team { display: flex; align-items: center; padding: 8px 0; color: #e0e0e0; }
.team:not(:last-child) { border-bottom: 1px solid #3d3d3d; }
.team-logo-container { width: 25px; height: 25px; margin-right: 8px; display: flex; align-items: center; justify-content: center; flex-shrink: 0; }
.team-logo-container img.actual-team-logo { max-width: 100%; max-height: 100%; object-fit: contain; }
.team-logo-placeholder { width: 25px; height: 25px; margin-right: 8px; font-size: 18px; line-height: 25px; text-align: center; color: #cccccc; background-color: #333; border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0; }
.team-seed { font-size: 0.85em; color: #b0b0b0; margin-right: 6px; width: 20px; text-align: right; font-weight: bold; flex-shrink: 0; }
.team-name { font-size: 0.9em; font-weight: normal; color: #ffffff; flex-grow: 1; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.team.winner .team-name { font-weight: bold; color: #66BB6A; }
.team-score { font-size: 0.9em; font-weight: bold; color: #ffffff; margin-left: auto; padding-left: 8px; flex-shrink: 0; }
.team.winner .team-score { background-color: rgba(102, 187, 106, 0.15); padding: 2px 5px; border-radius: 3px; }
.series-result-info { font-size: 0.8em; text-align: center; margin-top: 6px; padding: 4px; background-color: #1c1c1c; border-radius: 4px; color: #d0d0d0; font-weight: bold; }
.tbd-slot-container { display: flex; flex-direction: column; background-color: #282828; border: 1px dashed #5f5f5f; border-radius: 6px; padding: 10px; margin-bottom: 25px; min-height: 76px; align-items: center; justify-content: center; }
.tbd-team-placeholder { display: flex; align-items: center; justify-content: center; width: 100%; padding: 8px 0; color: #888888; font-style: italic; font-weight: bold; font-size: 0.85em; }
.tbd-team-placeholder:not(:last-child) { border-bottom: 1px solid #3d3d3d; }


/* --- mod_player_stats & mod_historical_player_stats --- */
.player-img { display: block; margin-left: auto; margin-right: auto; border-radius: 8px; margin-bottom: 15px; border: 2px solid #444; background-color: #222; max-width: 280px; width: 100%; height: auto; min-height: 200px; object-fit: cover; }
.player-stats-grid { display: grid !important; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)) !important; gap: 8px 12px !important; background-color: #1c1c1c !important; border: 1px solid #383838 !important; border-radius: 6px !important; padding: 15px !important; margin-top: 10px !important; color: #f0f0f0 !important; }
.stat-item { line-height: 1.6; font-size: 0.95em; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; padding: 5px 0; }
.stat-label { color: #b0b0b0; margin-right: 8px; font-weight: normal !important; }
.stat-value { color: #ffffff; font-weight: bold !important; }
.stat-item .stat-value.positive-stat { color: #66BB6A !important; }
.stat-item .stat-value.negative-stat { color: #EF5350 !important; }

/* --- mod_player_performance & mod_game_predictor --- */
.prediction-output-container { padding: 20px; background-color: #1a1a1a; border: 1px solid #333; border-radius: 5px; margin-top: 20px; text-align: center; }
.prediction-header { text-align: center; font-size: 1.3em; margin-bottom: 15px; color: #ffffff; }
.win-probability-display { font-size: 2.5em; font-weight: bold; color: #1d428a; text-align: center; margin-bottom: 10px; }
.plausible-score-display { font-size: 1.5em; text-align: center; color: #e0e0e0; }
.stat-prediction-box { background-color: #222222; border: 1px solid #444; border-radius: 6px; padding: 20px; text-align: center; margin-bottom: 20px; color: #ffffff; height: 100%; display: flex; flex-direction: column; justify-content: center; min-height: 120px; box-shadow: 0 2px 5px rgba(0,0,0,0.2); transition: all 0.2s ease-in-out; }
.stat-prediction-box:hover { transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0,0,0,0.3); }
.stat-prediction-label { display: block; font-size: 0.85em; color: #b0b0b0; margin-bottom: 8px; text-transform: uppercase; letter-spacing: 0.8px; font-weight: bold; }
.stat-prediction-value { display: block; font-size: 2.2em; font-weight: bold; color: #1d428a; line-height: 1.1; }

/* --- mod_goat_discourse Styles --- */
.goat-legend-analysis-section { margin-bottom: 30px; padding: 15px; background-color: #1a1a1a; border: 1px solid #333; border-radius: 5px; }

/* Custom row classes for spacing control in GOAT module */
.goat-main-title-row {
  margin-bottom: 5px !important; /* Space AFTER the main "Discourse Analysis For..." title row */
}
.goat-content-row { /* Row containing the left (sentiment) and right (word cloud) columns */
  margin-top: 0px !important;
  padding-top: 0px !important;
}

/* Columns within the content row */
.goat-individual-left-col, .goat-individual-right-col {
  padding-top: 0px !important; /* Remove any top padding from the columns themselves */
}

/* Titles within the content columns of GOAT module */
.goat-individual-left-col h5, .goat-individual-right-col h5 {
  margin-top: 0px !important;      /* Remove default top margin */
  margin-bottom: 10px !important; /* Consistent bottom margin */
}
/* Specific margin for the "Sentiment Distribution" title (first h5 in left col) */
.goat-individual-left-col h5:first-of-type {
    margin-bottom: 5px !important; /* Less space after this title before the chart */
}
/* Titles for example phrases, ensuring they sit close to their preceding hr */
.goat-individual-left-col .example-phrases-container h5 {
    margin-top: 0px !important;
}

.individual-sentiment-donut-container {
  width: 100%;
  margin-bottom: 15px !important; /* Space AFTER the donut chart container, BEFORE next element (hr or KPI boxes if re-added) */
}
.individual-sentiment-donut-container .echarts4r {
  height: 250px !important;
  min-height: 250px;
  background-color: transparent !important;
}
.goat-sentiment-chart-container .echarts4r,
.goat-sentiment-chart-container .plotly { /* For comparison chart */
  min-height: 300px;
  background-color: transparent !important;
}

/* KPI Box Styling (Kept in case they are re-added or used elsewhere) */
.sentiment-kpi-box {
  background-color: #2a2a2a;
  padding: 15px;
  text-align: center;
  border-radius: 5px;
  border: 1px solid #444;
  margin-bottom: 10px;
  min-height: 100px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  transition: all 0.2s ease-in-out;
}
.sentiment-kpi-box:hover {
  transform: translateY(-2px);
  box-shadow: 0 3px 10px rgba(0,0,0,0.3);
}
.kpi-label {
  font-size: 0.9em;
  color: #b0b0b0;
  display: block;
  margin-bottom: 8px;
  text-transform: uppercase;
  font-weight: bold;
}
.kpi-value {
  font-size: 2.5em !important;
  font-weight: bold !important;
  color: #ffffff !important;
  line-height: 1.1 !important;
}
.sentiment-kpi-box.positive .kpi-value { color: #66BB6A !important; }
.sentiment-kpi-box.negative .kpi-value { color: #EF5350 !important; }
.sentiment-kpi-box.neutral .kpi-value { color: #78909C !important; }

.goat-sentiment-summary-text {
  text-align: center;
  font-size: 0.9em;
  color: #aaa;
  margin-top: 5px;
}

.goat-wordcloud-container .wordcloud2 {
  min-height: 400px;
  height: 500px !important;
  width: 100% !important;
  border: 1px solid #333;
  background-color: #111111 !important;
  border-radius: 4px;
  padding: 10px;
}

.example-phrases-container h5 {
  margin-bottom: 10px;
  color: #e0e0e0;
}
.example-phrases-container blockquote.twitter-phrase {
  font-size: 0.85em;
  padding: 10px;
  margin-bottom: 8px;
  border-radius: 4px;
  background-color: #252525;
  line-height: 1.5;
  margin-left: 0;
  margin-right: 0;
}
.positive-phrase-item {
  border-left: 4px solid #66BB6A;
  color: #C8E6C9;
}
.negative-phrase-item {
  border-left: 4px solid #EF5350;
  color: #FFCDD2;
}

.comparison-section {
  margin-top: 20px;
  padding-top: 15px;
  border-top: 1px solid #444;
}
.comparison-wordcloud-plot-container {
  min-height: 380px;
  height: 380px !important;
  width: 100% !important;
  border: 1px solid #333;
  background-color: #111111 !important;
  border-radius: 4px;
  padding: 10px;
  margin-bottom: 20px;
}
.comparison-column {
  padding: 10px;
}

/* General spinner color if not overridden by type */
.shiny-spinner-output-container > .load-container > .loader,
.shiny-spinner-output-container > .load-container > .loading-spinner {
  border-top-color: #1d428a !important;
  border-left-color: #1d428a !important;
}

/* --- END FILE: www/styles.css (Full, Complete, and Updated - Reflecting KPI Box Removal) --- */